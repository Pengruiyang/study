# 实现部分文件版本对比工具
同步部分依赖包最新版本(组件库,前端微服务应用联调)
1. 找出我定制需要经常更新的包,和 packages 中没有锁定版本比较.用这些去查找最新的包版本号
2. 基于 node的  **child_process.execSync**(child_process 开启子进程在 在 shell 脚本中同步执行 command),执行 npm view version 命令获得最新的版本号
3. 一个计算版本号的方法.每个位置权重 1000,
4. 获取所有需要更新的包和版本号更新.


# babel-plugin customName 功能 开发思路
基于 babel-plugin-import 插件,在编译阶段将引用指向了模块所在的文件夹.并在文件夹中做出配置.
针对 icon 这种有很多子组件,对子组件针对处理

# 写过 tinypng plugin 源码并实现过
创建 plugin 对象,这个对象必要要有 apply 方法去获取 webpack的 compiler 对象.这个对象是 webpack 的全局单例.负责 webpack 的整个生命周期.包含全部配置信息.基于 webpack 配置的 options 和提供给我们的钩子,emit 是输出 asset 到输出文件执行的钩子,tapPromise 的 promise 操作去监听插件名,在本次 构建 compilation 对象中.找出符合规则的图片.按照 tinypng 规定的 api 上传图片.同时基于spinner对 shell 语句进行文件状态的输出.然后等待 tiny-png 处理好了之后再下载文件.最后 chalk 输出文件前后打包大小区别压缩程度.
# 想法可能比较新颖并愿意实践
## 脚手架搭建
1. commander: node.js 解决方案
2. 声明 program
3. 使用.option()方法定义选项
4. Inquirer.js 命令行用户界面的集合

# 在微服务项目中使用 style-components 
当 style-components插入动态样式时,dynamicHeadAppend拦截不到,导致当前页面样式无法插入进 style-components样式中,导致页面样式失效
在 style-components 生成的 styleSheets里面引用对象还是老的引用,新的样式无法插入.style-components 使用"Speedy mode"往生产模式注入样式.让样式绕过了 DOM 直接注入到styleSheets内部.所以出现在了它的检查器中但是样式完全没有生效.
我们可以设置一个SC_DISABLE_SPEEDY为 true 去禁用"Speedy mode".

# 权限设计
背景: 随着之前公司亿业务发展,公司线上线下员工2w+.之前已有权限难以满足未来发展.并且之前权限配置混乱,权限下放功能随意.通过分配权限就可以配置同级别权限给其他用户,导致部分人的权限过大且难以控制.并且变更难以追溯.

设计:
1. 将权限的配置,角色与数据权限进行分离.之前数据权限的配置基于角色,而再将账户与角色进行绑定.从而拥有权限.这样导致配置权限功能的链路过长,且数据权限与角色功能进行耦合.导致多角色情况下数据权限难以删除.所以将数据权限抽离.直接与账户进行绑定.
2. 公司人员变动频繁,但是账户权限并没有进行相应的改动.常常看到已离职员工权限没有改动.首先将权限中心和hr系统进行对接,最终选择了夏谷hr系统.移除权限中心新增用户功能.基于hr入职离职员工时,新增账户同步至权限中心.再由权限中心分发同步至其他域.
3. 权限控制,严格控制权限中角色的配置.角色功能岗位化,线上环境角色功能新增由各个域产品进行配置.仅给部分管理岗分发权限功能.同时,权限新增仅owner可编辑功能.防止随意修改角色权限.同时基于线下需求,新增超管功能.并严格控制超管数量20.多出来需要后端进行配置修改.
4. 角色不再区分业务渠道,同时将中台微前端服务应用不在区分业态.使角色收拢统一,不需要切换业态查询功能.
5. 功能的新增: 例如: 新增操作权限记录页面.防止开发UI查看线上功能误改,朔源可查.菜单权限功能扩展,支持配置多种跳转方式和直接跳转页面链接.
6. 新权限刚上线期间,如何和旧功能的兼容.新老之间功能是否同步.如何处理.
7. 根据交互设计师优化功能上的交互体验.提升用户体验,简化配置流程.
8. 基于react16 class模式,antd 3.0 => react16.8 hooks + antd4.0 + ts 代码升级.
结果:
在一个月内开发、联调完工作.保证项目按时提测.后续成功满足公司员工现有功能.打通hr系统之后,方便了账号权限的上下线.不会产生已有权限的泄露.简化配置,提升配置效率.
区分业务功能排至后续中台微服务架构变更再进行迭代.
总结:
1. 一开始和其域沟通不全面,导致部分进度需求排至后期开发.
2. 如何让其他同学低成本上手开发,封装高度耦合的业务组件.
3. 需求在开发中变更多次导致组件展示问题.